# Script: subdirectories_check.py
# Descript: Check subdirectory
# Command: python subdirectory_check.py domain file-input
# E.g: python subdirectory_check.py 10.10.10.10 wordlist.txt
# Requirement: requests




import requests 
import sys 
import time

try:
    sys.argv[2]
except IndexError:
    print("# Command: python subdirectory_check.py domain file-input")
    print("# eg: python subdirectory_check.py 10.10.10.10 wordlist.txt")
    sys.exit()

time_process = time.process_time()

directories = sub_list = open(sys.argv[2]).read().splitlines()

print("\n# Start %s at " %(sys.argv[0]) + time.strftime("%H:%M:%S %m.%d.%Y", time.localtime()))
print("# Host:", sys.argv[1])

for dir in directories:
    sys.stdout.flush() 
    dir_enum = f"http://{sys.argv[1]}/{dir}.html" 
    r = requests.get(dir_enum)
    if r.status_code==404: 
        pass
    else:
        print("Valid directory: " + dir_enum)
else:
    print("# Script done at " + time.strftime("%H:%M:%S %m.%d.%Y", time.localtime()) + "\n")
    

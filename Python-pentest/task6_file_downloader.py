# Script: file_downloader.py
# Descript: when u hate wget
# Command: python script.py url






import requests
import os
import re
import sys

try:
    sys.argv[1]
except IndexError:
    print("# Command: python script.py url")
    print("# eg: python script.py http://lewlew.lew/file.zip")
    sys.exit()

url = sys.argv[1]
r = requests.get(url, allow_redirects=True)

#RegEx

regex = re.findall('.*\/.+/', url)    
filter_url = url.replace(regex[0], '')
if url[-1] == '/':
    print("\n# !Delete last character (/) in string")
    quit()

# Main

open(filter_url, 'wb').write(r.content)

print("Downloaded:", filter_url)
print("Path:", os.path.dirname(__file__) + "/%s" %filter_url)


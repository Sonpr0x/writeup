# 22:32|15|8|2021
# Descript: Check subdirectory alive
# Required funcs: time created/done, calculate time
# Command: script [domain] [file_input] [file_output]

import requests 
import sys 

sub_list = open(sys.argv[2])
directories = sub_list.read().splitlines()
valid_list = open(sys.argv[3], "a+")

for dir in directories:
    dir_enum = f"http://{sys.argv[1]}/{dir}.html" 
    r = requests.get(dir_enum)
    if r.status_code==404:
        print("Invalid directory: ", dir_enum) 
        pass
    else:
        valid_list.writelines("Valid directory: " + dir_enum + "\n")
else:
    sub_list.close()
    valid_list.close()

# Created: 15|8|2021
# Descript: Check subdirectory
# Command: python subdirectory_check.py domain file-input
# E.g: python subdirectory_check.py 10.10.10.10 wordlist.txt

import requests 
import sys 
import time

time_created = time.localtime()

directories = sub_list = open(sys.argv[2]).read().splitlines()

print("\n# Starting checking subdirectories (subdirectory.py) at " + time.strftime("%H:%M:%S %m.%d.%Y", time_created) )

for dir in directories:
    dir_enum = f"http://{sys.argv[1]}/{dir}.html" 
    r = requests.get(dir_enum)
    if r.status_code==404: 
        pass
    else:
        print("Valid directory: " + dir_enum + "\n")
else:
    time_done = time.localtime()
    print("# Script done at: " + time.strftime("%H:%M:%S %m.%d.%Y", time_done) + ' | Scanned in: ', time_done[4]-time_created[4],'minutes', time_done[5]-time_created[5], 'senconds\n')
    
